<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Login API</title>
</head>
<body>
    <h2>Login</h2>
    <form id="loginForm">
        <label>Usuario:</label><br>
        <input type="text" id="username" value="cliente_prueba" required><br><br>
        <label>Contraseña:</label><br>
        <input type="password" id="password" value="1234" required><br><br>
        <button type="submit">Ingresar</button>
    </form>

    <p id="resultado"></p>

    <script>
        document.getElementById('loginForm').addEventListener('submit', async function(e){
            e.preventDefault();

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            const url = `http://127.0.0.1:5000/login/${username}/${password}`;
            
            try {
                const response = await fetch(url);
                const text = await response.text();  

                if(text === "True"){
                    window.location.href = "/home";
                } else {
                    document.getElementById('resultado').innerText = "❌ Usuario o contraseña incorrectos";
                }
            } catch(err){
                console.error(err);
                document.getElementById('resultado').innerText = "⚠️ Error al conectar con la API";
            }
        });
    </script>
</body>
</html>